window.addEventListener("load",function(){document.querySelector(".loader").className+=" hidden"}),gsap.registerPlugin(ScrollTrigger),ScrollTrigger.defaults({toggleActions:"play complete reverse repeat"}),gsap.fromTo(".overlay",{y:200},{y:0,duration:1,scale:.8,transformOrigin:"right bottom",scrollTrigger:{trigger:"#section-intro",pin:!0,start:"top top",scrub:!0}}),gsap.to(".bg",{duration:2,scale:1.5,scrollTrigger:{trigger:"body",start:"top top",scrub:!0}}),gsap.fromTo(".text-box",{opacity:.1,y:-200,textShadow:"#fff 0px 0px"},{opacity:1,y:0,textShadow:"#000 3px 3px",duration:3,scrollTrigger:{trigger:".text-box",start:"200 100",end:"+=1000",scrub:!1,toggleActions:"play complete resume"}});const sections=gsap.utils.toArray("section");let boxes=gsap.utils.toArray("section"),container=document.querySelector("body"),text=document.querySelector("#pin"),padding=gsap.getProperty(container,"paddingTop","px"),snapTriggers=boxes.map(t=>ScrollTrigger.create({trigger:t,start:"top "+padding+"px"})),snaps=[],burger=(ScrollTrigger.create({trigger:"#container",markers:!1,pin:"#pin",pinSpacing:!1,start:"top top",end:()=>"+="+boxes[boxes.length-1].getBoundingClientRect().top,onRefresh:r=>{let o=r.end-r.start;snapTriggers.forEach((t,e)=>snaps[e]=(t.start-r.start)/o-.0185)},snap:snaps}),document.getElementById("burger")),menu=document.getElementById("menu-nav"),navToIntro=document.getElementById("nav-to-intro");burger.addEventListener("click",()=>{burger.classList.toggle("open"),menu.classList.toggle("show")}),navToIntro.addEventListener("click",()=>{gsap.to(window,{scrollTo:{y:0,autoKill:!0},duration:1})});